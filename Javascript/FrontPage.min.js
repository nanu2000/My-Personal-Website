function Animator(a){this._lastTime;this._animation=a;this._stop=false;this.stop=function(){this._stop=true};this.start=function(){this._stop=false;this.requestNextFrame()};this._step=function(c){if(this._stop){return}var b=(c-(this.lastTime||c))/1000;if(b>0.03){b=0.016}this.lastTime=c;this._animation(b);this.requestNextFrame()};this.requestAnimationFramePolyFill=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(b){window.setTimeout(b,1000/60)};this.requestNextFrame=function(){var b=this;this.requestAnimationFramePolyFill.call(window,function(c){b._step(c)})}}function resetFlexItemPositions(){var c=document.getElementById("flex_item_container");var e=c.getBoundingClientRect();for(var b=0;b<flexItems.length;b++){var d=flexItems[b].getBoundingClientRect().width*flexItems.length;var a=(e.width-d)/2;flexItems[b].centerAdditor=a;flexItems[b].updateXPosition(a);flexItems[b].startPosition=flexItems[b].getBoundingClientRect()}}var boxWidth=0;var flexItems;var pxPerSecond=30;function rotateFlexItems(g){var d=-1;var k=document.getElementById("flex_item_container");var f=k.getBoundingClientRect();if(boxWidth!==f.width){resetFlexItemPositions();boxWidth=f.width}for(var e=0;e<flexItems.length;e++){var b=flexItems[e].getBoundingClientRect().width*flexItems.length;var a=flexItems[e].getBoundingClientRect().width/2;var h=(f.width-b)/2;if(flexItems[e].getBoundingClientRect().left>=f.right-h-a){d=e}var c=flexItems[e].lastTranslateX+g*pxPerSecond;flexItems[e].updateXPosition(c);if(flexItems[e].getBoundingClientRect().left+a>(f.left+f.width/2)-flexItems[e].getBoundingClientRect().width&&flexItems[e].getBoundingClientRect().left+a<(f.left+f.width/2)+flexItems[e].getBoundingClientRect().width){flexItems[e].querySelector("a").className="hover"}else{flexItems[e].querySelector("a").className=""}}if(d!==-1){var l=flexItems[(d+1)%flexItems.length];var j=-(flexItems[d].startPosition.left-flexItems[d].centerAdditor);j+=l.getBoundingClientRect().left;j-=l.getBoundingClientRect().width;flexItems[d].updateXPosition(j)}}var animator=new Animator(rotateFlexItems);function initFlexItems(){var a=document.getElementsByClassName("flex_item");flexItems=Array.prototype.slice.call(a,0);flexItems.sort(function(f,e){return f.getBoundingClientRect().left>e.getBoundingClientRect().left});for(var c=0;c<flexItems.length;c++){flexItems[c].updateXPosition=function(e){this.lastTranslateX=e;this.style.transform="translateX("+e+"px)"}}var b=document.getElementById("flex_item_container");var d=b.getBoundingClientRect();boxWidth=d.width;resetFlexItemPositions();animator.start()}function executeMobileJavascript(){var b=document.getElementsByClassName("flex_item");for(var a=0;a<b.length;a++){b[a].querySelector("a").className+=" hover"}}function runJavascript(){if("ontouchstart" in window){executeMobileJavascript()}initFlexItems()}runJavascript();