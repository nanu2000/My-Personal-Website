function Animator(a){this._lastTime;this._animation=a;this._stop=false;this.stop=function(){this._stop=true};this.start=function(){this._stop=false;this.requestNextFrame()};this._step=function(c){if(this._stop){return}var b=(c-(this.lastTime||c))/1000;if(b>0.03){b=0.016}this.lastTime=c;this._animation(b);this.requestNextFrame()};this.requestAnimationFramePolyFill=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(b){window.setTimeout(b,1000/60)};this.requestNextFrame=function(){var b=this;this.requestAnimationFramePolyFill.call(window,function(c){b._step(c)})}}function CarouselItem(a){this._element=a;this._startPosition;this._centerAdditor;this._currentTranslateX;this.getCurrentXTranslation=function(){return this._currentTranslateX};this.updateXPosition=function(b){this._currentTranslateX=b;this._element.style.transform="translateX("+b+"px)"};this.getRect=function(){return this._element.getBoundingClientRect()};this.getCenter=function(){return this.getRect().left+this.getRect().width/2};this.getZeroPosition=function(){return -(this._startPosition.left-this._centerAdditor)};this.getLoopPosition=function(b,c){var e=this.getRect().width*c;var f=this.getRect().width/2;var d=(b.width-e)/2;return b.right-d-f};this.recalculateAndResetToNewPosition=function(e,c){var d=this.getRect().width*c;var b=(e-d)/2;this._centerAdditor=b;this.updateXPosition(b);this._startPosition=this.getRect()}}function Caurousel(b,a,c){this._container;this._items;this._currentContainerOrientation;this._pxPerSecond=c;this.initialise=function(){var d=document.getElementsByClassName(a);this._container=document.getElementById(b);this._items=Array();for(var e=0;e<d.length;e++){this._items.push(new CarouselItem(d[e]))}this._items.sort(function(g,f){return g.getRect().left>f.getRect().left});this._currentContainerOrientation=this._container.getBoundingClientRect();this.resetAllItemPositions()};this.resetAllItemPositions=function(){for(var d=0;d<this._items.length;d++){this._items[d].recalculateAndResetToNewPosition(this._currentContainerOrientation.width,this._items.length)}};this._containerOrientationHasChanged=function(){var d=this._container.getBoundingClientRect();if(this._currentContainerOrientation.width!==d.width){this._currentContainerOrientation=d;return true}return false};this.getContainerCenter=function(){return this._currentContainerOrientation.left+this._currentContainerOrientation.width/2};this._loopItem=function(f){var e=this._items[(f+1)%this._items.length];var d=this._items[f].getZeroPosition()+(e.getRect().left-this._items[f].getRect().width);this._items[f].updateXPosition(d)};this._updateItem=function(f,d){var g=this._items[f].getRect();if(g.left>=this._items[f].getLoopPosition(this._currentContainerOrientation,this._items.length)){return f}if(this._items[f].getCenter()>this.getContainerCenter()-g.width&&this._items[f].getCenter()<this.getContainerCenter()+g.width){this._items[f]._element.querySelector("a").className="hover"}else{this._items[f]._element.querySelector("a").className=""}var e=this._items[f].getCurrentXTranslation()+d*this._pxPerSecond;this._items[f].updateXPosition(e);return -1};this.update=function(e){if(this._containerOrientationHasChanged()){this.resetAllItemPositions();this._updateOverflowHandlers()}var g=-1;for(var f=0;f<this._items.length;f++){var d=this._updateItem(f,e);if(d!==-1){g=d}}if(g!==-1){this._loopItem(g)}}}function initFlexItems(){var b=new Caurousel("flex_item_container","flex_item",25);b.initialise();var a=new Animator(b.update.bind(b));a.start()}function executeMobileJavascript(){var b=document.getElementsByClassName("flex_item");for(var a=0;a<b.length;a++){b[a].querySelector("a").className+="hover"}}function runJavascript(){if("ontouchstart" in window){executeMobileJavascript()}initFlexItems()}runJavascript();