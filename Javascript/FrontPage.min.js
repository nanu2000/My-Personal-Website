function Animator(a){this._lastTime;this._animation=a;this._stop=false;this.stop=function(){this._stop=true};this.start=function(){this._stop=false;this.requestNextFrame()};this._step=function(c){if(this._stop){return}var b=(c-(this.lastTime||c))/1000;if(b>0.03){b=0.016}this.lastTime=c;this._animation(b);this.requestNextFrame()};this.requestAnimationFramePolyFill=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(b){window.setTimeout(b,1000/60)};this.requestNextFrame=function(){var b=this;this.requestAnimationFramePolyFill.call(window,function(c){b._step(c)})}}function CarouselItem(a){this._element=a;this._startPosition;this._centerAdditor;this._currentTranslateX;this.getCurrentXTranslation=function(){return this._currentTranslateX};this.updateXPosition=function(b){this._currentTranslateX=b;this._element.style.transform="translateX("+b+"px)"};this.getRect=function(){return this._element.getBoundingClientRect()};this.getCenter=function(){return this.getRect().left+this.getRect().width/2};this.getZeroPosition=function(){return -(this._startPosition.left-this._centerAdditor)};this.getLoopPosition=function(b,c){var e=this.getRect().width*c;var f=this.getRect().width/2;var d=(b.width-e)/2;return b.right-d-f};this.recalculateAndResetToNewPosition=function(e,c){var d=this.getRect().width*c;var b=(e-d)/2;this._centerAdditor=b;this.updateXPosition(b);this._startPosition=this.getRect()}}function Caurousel(b,a,c){this.container;this.items=Array();this.currentContainerOrientation;this._pxPerSecond=c;this.initialise=function(){var d=document.getElementsByClassName(a);this.container=document.getElementById(b);for(var e=0;e<d.length;e++){this.items.push(new CarouselItem(d[e]))}this.items.sort(function(g,f){return g.getRect().left>f.getRect().left});this.currentContainerOrientation=this.container.getBoundingClientRect();this.resetAllItemPositions()};this.resetAllItemPositions=function(){for(var d=0;d<this.items.length;d++){this.items[d].recalculateAndResetToNewPosition(this.currentContainerOrientation.width,this.items.length)}};this.containerOrientationHasChanged=function(){var d=this.container.getBoundingClientRect();if(this.currentContainerOrientation.width!==d.width||this.currentContainerOrientation.left!==d.left||this.currentContainerOrientation.top!==d.top){this.currentContainerOrientation=d;return true}return false};this.getContainerCenter=function(){return this.currentContainerOrientation.left+this.currentContainerOrientation.width/2};this.loopItem=function(f){var e=this.items[(f+1)%this.items.length];var d=this.items[f].getZeroPosition()+(e.getRect().left-this.items[f].getRect().width);this.items[f].updateXPosition(d)};this.updateItem=function(f,d){var g=this.items[f].getRect();if(g.left>=this.items[f].getLoopPosition(this.currentContainerOrientation,this.items.length)){return f}if(this.items[f].getCenter()>this.getContainerCenter()-g.width&&this.items[f].getCenter()<this.getContainerCenter()+g.width){this.items[f]._element.querySelector("a").className="hover"}else{this.items[f]._element.querySelector("a").className=""}var e=this.items[f].getCurrentXTranslation()+d*this._pxPerSecond;this.items[f].updateXPosition(e);return -1};this.update=function(e){if(this.containerOrientationHasChanged()){this.resetAllItemPositions()}var g=-1;for(var f=0;f<this.items.length;f++){var d=this.updateItem(f,e);if(d!==-1){g=d}}if(g!==-1){this.loopItem(g)}}}function initFlexItems(){var b=new Caurousel("flex_item_container","flex_item",30);b.initialise();var a=new Animator(b.update.bind(b));a.start()}function executeMobileJavascript(){var b=document.getElementsByClassName("flex_item");for(var a=0;a<b.length;a++){b[a].querySelector("a").className+=" hover"}}function runJavascript(){if("ontouchstart" in window){executeMobileJavascript()}initFlexItems()}runJavascript();