function CarouselItem(a){this._element=a;this._startPosition;this._centerAdditor;this._currentTranslateX;this._currentLoopPosition;this._element.getRectWithCenter=getBoundingClientRectWithCenter(this._element);this._currentOrientation=this._element.getRectWithCenter();this.initialiseBasedOnContainer=function(b,d){var c=(b.width-(this._currentOrientation.width*d))/2;this._centerAdditor=c;this.setXPosition(c);this._startPosition=this._currentOrientation;this._currentLoopPosition=this._getNewLoopPosition(b,d)};this._getNewLoopPosition=function(b,c){return b.right-(b.width-(this._currentOrientation.width*c))/2-this._currentOrientation.width/2};this.getCurrentXTranslation=function(){return this._currentTranslateX};this.getRect=function(){return this._currentOrientation};this.getElement=function(){return this._element};this.getZeroPosition=function(){return -(this._startPosition.left-this._centerAdditor)};this.getCurrentLoopPosition=function(){return this._currentLoopPosition};this.shouldLoop=function(){return this._currentOrientation.left>=this._currentLoopPosition};this.setXPosition=function(b){this._currentTranslateX=b;this._element.style.transform="translateX("+b+"px)";this._currentOrientation=this._element.getRectWithCenter()};this.addToXPosition=function(b){this.setXPosition(this._currentTranslateX+b)};this.isGreaterThan=function(b){return this._element.getBoundingClientRect().left>b._element.getBoundingClientRect()}}function Caurousel(d,a,c,b){this._container=d;this._items=Array.from(a);this._pxPerSecond=c;this._performOperationsOnIndividualUpdate=b;this._container.getRectWithCenter=getBoundingClientRectWithCenter(this._container);this._currentContainerOrientation;this.initialise=function(){for(var e=0;e<this._items.length;e++){this._items[e]=new CarouselItem(this._items[e])}this._items.sort(function(g,f){return g.isGreaterThan(f)});this._currentContainerOrientation=this._container.getRectWithCenter();this._initialiseAllItemPositionsBasedOnContainer()};this._initialiseAllItemPositionsBasedOnContainer=function(){for(var e=0;e<this._items.length;e++){this._items[e].initialiseBasedOnContainer(this._currentContainerOrientation,this._items.length)}};this._containerOrientationHasChanged=function(){var e=this._container.getRectWithCenter();if(this._currentContainerOrientation.width!==e.width){this._currentContainerOrientation=e;return true}return false};this._loopItem=function(g){var f=this._items[(g+1)%this._items.length];var e=this._items[g].getZeroPosition()+(f.getRect().left-this._items[g].getRect().width);this._items[g].setXPosition(e)};this._updateItem=function(g,e){var f={carouselItemContainerOrientation:this._currentContainerOrientation,currentItem:g,deltaTime:e,pxPerSecond:this._pxPerSecond};this._performOperationsOnIndividualUpdate(f);g.addToXPosition(e*this._pxPerSecond)};this.update=function(e){if(this._containerOrientationHasChanged()){this._initialiseAllItemPositionsBasedOnContainer()}var g=false;for(var f=0;f<this._items.length;f++){if(this._items[f].shouldLoop()){g=f;continue}this._updateItem(this._items[f],e)}if(g!==false){this._loopItem(g)}}}function Animator(b,a){this._lastTime;this._animation=b;this._stopped=true;this._deltaTimeResetBuffer=a||0.1;this.stop=function(){this._stopped=true};this.start=function(){this._stopped=false;this._requestNextFrame()};this.isRunning=function(){return !this._stopped};this._requestAnimationFramePolyFill=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(c){window.setTimeout(c,0.016)};this._step=function(d){if(this._stop){return}var c=(d-(this.lastTime||d))/1000;if(c>this._deltaTimeResetBuffer){c=0.016}this.lastTime=d;this._animation(c);this._requestNextFrame()};this._requestNextFrame=function(){var c=this;this._requestAnimationFramePolyFill.call(window,function(d){c._step(d)})}}function getBoundingClientRectWithCenter(a){return function(){var b=a.getBoundingClientRect();b.center=b.left+b.width/2;return b}}function performOperationsOnIndividualItemUpdate(){return function(a){var b=a.currentItem.getRect();if(b.center>a.carouselItemContainerOrientation.center-b.width&&b.center<a.carouselItemContainerOrientation.center+b.width){a.currentItem.getElement().querySelector("a").className="hover"}else{a.currentItem.getElement().querySelector("a").className=""}}}function runCarousel(){var b=new Caurousel(document.getElementById("portfolio_item_container"),document.getElementsByClassName("portfolio_item"),25,performOperationsOnIndividualItemUpdate());b.initialise();var a=new Animator(function(c){b.update(c)});a.start()}function runJavascript(){if(!Array.from){Array.from=getArrayFromPolyfill()}runCarousel()}runJavascript();function getArrayFromPolyfill(){var d=Object.prototype.toString;var e=function(g){return typeof g==="function"||d.call(g)==="[object Function]"};var c=function(h){var g=Number(h);if(isNaN(g)){return 0}if(g===0||!isFinite(g)){return g}return(g>0?1:-1)*Math.floor(Math.abs(g))};var b=Math.pow(2,53)-1;var a=function(h){var g=c(h);return Math.min(Math.max(g,0),b)};return function f(p){var g=this;var o=Object(p);if(p===null){throw new TypeError("Array.from requires an array-like object - not null or undefined")}var m=arguments.length>1?arguments[1]:void undefined;var i;if(typeof m!=="undefined"){if(!e(m)){throw new TypeError("Array.from: when provided, the second argument must be a function")}if(arguments.length>2){i=arguments[2]}}var n=a(o.length);var h=e(g)?Object(new g(n)):new Array(n);var j=0;var l;while(j<n){l=o[j];if(m){h[j]=typeof i==="undefined"?m(l,j):m.call(i,l,j)}else{h[j]=l}j+=1}h.length=n;return h}};