function Animator(a){this._lastTime;this._animation=a;this._stopped=true;this._deltaTimeResetBuffer=0.1;this.stop=function(){this._stopped=true};this.start=function(){this._stopped=false;this._requestNextFrame()};this.isRunning=function(){return !this._stopped};this.requestAnimationFramePolyFill=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(b){window.setTimeout(b,1000/60)};this._step=function(c){if(this._stop){return}var b=(c-(this.lastTime||c))/1000;if(b>this._deltaTimeResetBuffer){b=0.016}this.lastTime=c;this._animation(b);this._requestNextFrame()};this._requestNextFrame=function(){var b=this;this.requestAnimationFramePolyFill.call(window,function(c){b._step(c)})}}function getBoundingClientRectWithCenter(a){return function(){var b=a.getBoundingClientRect();b.center=b.left+b.width/2;return b}}function CarouselItem(a){this._element=a;this._startPosition;this._centerAdditor;this._currentTranslateX;this._currentLoopPosition;this._element.getRectWithCenter=getBoundingClientRectWithCenter(this._element);this._currentOrientation=this._element.getRectWithCenter();this.initialiseBasedOnContainer=function(b,d){var c=(b.width-(this._currentOrientation.width*d))/2;this._centerAdditor=c;this.setXPosition(c);this._startPosition=this._currentOrientation;this._currentLoopPosition=this._getNewLoopPosition(b,d)};this._getNewLoopPosition=function(b,c){return b.right-(b.width-(this._currentOrientation.width*c))/2-this._currentOrientation.width/2};this.getCurrentXTranslation=function(){return this._currentTranslateX};this.getRect=function(){return this._currentOrientation};this.getElement=function(){return this._element};this.getZeroPosition=function(){return -(this._startPosition.left-this._centerAdditor)};this.getCurrentLoopPosition=function(){return this._currentLoopPosition};this.shouldLoop=function(){return this._currentOrientation.left>=this._currentLoopPosition};this.setXPosition=function(b){this._currentTranslateX=b;this._element.style.transform="translateX("+b+"px)";this._currentOrientation=this._element.getRectWithCenter()};this.addToXPosition=function(b){this.setXPosition(this._currentTranslateX+b)};this.isGreaterThan=function(b){return this._element.getBoundingClientRect().left>b._element.getBoundingClientRect()}}function Caurousel(d,a,c,b){this._container=d;this._items=Array.from(a);this._pxPerSecond=c;this._currentContainerOrientation;this._performOperationsOnIndividualUpdate=b;this._container.getRectWithCenter=getBoundingClientRectWithCenter(this._container);this.initialise=function(){for(var e=0;e<this._items.length;e++){this._items[e]=new CarouselItem(this._items[e])}this._items.sort(function(g,f){return g.isGreaterThan(f)});this._currentContainerOrientation=this._container.getRectWithCenter();this._initialiseAllItemPositionsBasedOnContainer()};this._initialiseAllItemPositionsBasedOnContainer=function(){for(var e=0;e<this._items.length;e++){this._items[e].initialiseBasedOnContainer(this._currentContainerOrientation,this._items.length)}};this._containerOrientationHasChanged=function(){var e=this._container.getRectWithCenter();if(this._currentContainerOrientation.width!==e.width){this._currentContainerOrientation=e;return true}return false};this._loopItem=function(g){var f=this._items[(g+1)%this._items.length];var e=this._items[g].getZeroPosition()+(f.getRect().left-this._items[g].getRect().width);this._items[g].setXPosition(e)};this._updateItem=function(f,e){var g=this._items[f];if(g.shouldLoop()){return f}if(this._performOperationsOnIndividualUpdate(this._currentContainerOrientation,g,e,this._pxPerSecond)===false){return -1}g.addToXPosition(e*this._pxPerSecond);return -1};this.update=function(f){if(this._containerOrientationHasChanged()){this._initialiseAllItemPositionsBasedOnContainer()}var h=-1;for(var g=0;g<this._items.length;g++){var e=this._updateItem(g,f);if(e!==-1){h=e}}if(h!==-1){this._loopItem(h)}}}function performOperationsOnIndividualItemUpdate(){return function(a,c,b,d){var e=c.getRect();if(e.center>a.center-e.width&&e.center<a.center+e.width){c.getElement().querySelector("a").className="hover"}else{c.getElement().querySelector("a").className=""}}}function initCarouselItems(){var b=new Caurousel(document.getElementById("portfolio_item_container"),document.getElementsByClassName("portfolio_item"),25,performOperationsOnIndividualItemUpdate());b.initialise();var a=new Animator(function(c){b.update(c)});a.start()}function executeMobileJavascript(){var b=document.getElementsByClassName("portfolio_item");for(var a=0;a<b.length;a++){b[a].querySelector("a").className+="hover"}}function runJavascript(){if("ontouchstart" in window){executeMobileJavascript()}initCarouselItems()}runJavascript();